% Fix margins
\usepackage[margin=6em,top=8em,headsep=3em]{geometry}

\usepackage[utf8]{inputenc}

% Various packages
\usepackage{color,soul}
\usepackage{xcolor}% http://ctan.org/pkg/xcolor
\usepackage{graphicx}
\usepackage{placeins}
\usepackage{setspace}
\usepackage{xfrac}
\usepackage{mathtools}

% Allows for proper figure hyperlinks that jump to the figure, not the caption
\usepackage{hyperref}
\usepackage[all]{hypcap}

\usepackage{pdfpages}
\usepackage[ backend=biber, natbib=true, style=authoryear, maxbibnames=99]{biblatex} %liam
\addbibresource{pubs.bib}

\usepackage{hyperref} %liam
\hypersetup{
  colorlinks=true,
  linkcolor=black,
  urlcolor=black,
  citecolor=black
}

\newcommand*{\definitionautorefname}{Definition}

\usepackage{amsthm}
\usepackage{amsmath}
\usepackage{amssymb}
\theoremstyle{definition}
\newtheorem{definition}{Definition}[section]

% Personal info
\newcommand{\thesistitle}{Recursive Types For Cogent}
\newcommand{\me}{Emmet Murray}

% Setting header/footer rules
\usepackage{fancyhdr}
\fancypagestyle{fancybook}{}
\renewcommand{\headrulewidth}{0pt}
\pagestyle{fancy}
\fancyhf{}% Clear header/footer
\fancyfoot{}
\fancyhead[L]{\me\ --- \textit{\thesistitle}}
\fancyhead[R]{\thepage}
 
% Derivation tree styles
\usepackage{proof}

% Nice lines
\linespread{1.5}
\setlength{\parskip}{1em plus 0.5ex}
\setlength{\parindent}{0pt}

% Center spacing
\let\oldcenter\center
\let\oldendcenter\endcenter
\renewenvironment{center}{\setlength\topsep{0pt}\oldcenter}{\oldendcenter}

% Make the lists not that thick
\usepackage{enumitem}
\setlist[itemize]{topsep=0pt}
\setlist[itemize]{itemsep=0pt}

%%%% Shortcuts
\newcommand{\todo}[1]{\textbf{\hl{TODO: #1}}}
\newcommand{\simp}{\stackrel{\makebox[0pt]{\mbox{\textsf{\tiny{simp}}}}}{\hookrightarrow}}
\newcommand{\subtype}{\sqsubseteq}
\newcommand{\typeeq}{\rotatebox[origin=c]{180}{$\;\simeq\;$}}

\newcommand{\teq}{\approx}
\newcommand{\tlt}{\prec}
\newcommand{\tleq}{\preccurlyeq}

\newcommand{\harpoon}{\overset{\rightharpoonup}}

% A tick symbol, from https://tex.stackexchange.com/questions/132783/how-to-write-checkmark-in-latex
\usepackage{tikz}
\def\checkmark{\tikz\fill[scale=0.4](0,.35) -- (.25,0) -- (1,.7) -- (.25,.15) -- cycle;} 

%%%% Maths 

%%%% Our default level for display in TOC - subsubsections
\setcounter{tocdepth}{2}
%%%% Our default level for displaying numbering - subsubsections
\setcounter{secnumdepth}{3}


%%%% Included code settings
\usepackage{listings}
\lstset{
  frame=none,
  xleftmargin=50pt,
  stepnumber=1,
  numbers=left,
  numbersep=20pt,
  numberstyle=\ttfamily\small\color[gray]{0.3},
  belowcaptionskip=\bigskipamount,
  captionpos=b,
  escapeinside={*'}{'*},
  tabsize=2,
  emphstyle={\bf},
  commentstyle=\it,
  stringstyle=\mdseries\rmfamily,
  showspaces=false,
  keywordstyle=\bfseries\rmfamily,
  columns=flexible,
  basicstyle=\sffamily,
  showstringspaces=false,
  morecomment=[l]\%,
}

% Spacing before and after titles
\usepackage{titlesec}
\titleformat{\chapter}[display]{\normalfont\huge\bfseries}{\chaptertitlename\ \thechapter}{20pt}{\Huge} 
% \titlespacing*{<command>}{<left>}{<before-sep>}{<after-sep>}
\titlespacing*{\chapter}{0pt}{-30pt}{20pt}
\titlespacing*{\section}{0pt}{10pt}{0pt}

% Fixes broken section/subsection numbering
\usepackage{etoolbox}
\makeatletter
\patchcmd{\ttlh@hang}{\parindent\z@}{\parindent\z@\leavevmode}{}{}
\patchcmd{\ttlh@hang}{\noindent}{}{}{}
\makeatother
